schema: '2.0'
stages:
  stage01_check_structure:
    cmd: python src/pipeline/pipeline_steps/stage01_check_structure.py
    deps:
    - path: src/pipeline/check_structure_pipeline.py
      hash: md5
      md5: ad5f6a80e7e837ede982ecd60fb5e969
      size: 1675
    - path: src/pipeline/pipeline_steps/stage01_check_structure.py
      hash: md5
      md5: 9f04fd417c7e03b562379e51312b95f2
      size: 593
  stage02_import_data:
    cmd: python src/pipeline/pipeline_steps/stage02_import_data.py
    deps:
    - path: src/pipeline/config.yaml
      hash: md5
      md5: 711a296ffa201c6c701e523fdfd52175
      size: 1022
      isexec: true
    - path: src/pipeline/import_data_pipeline.py
      hash: md5
      md5: c4f9e3254c6568a68ce216a644e9b4c3
      size: 2174
      isexec: true
    - path: src/pipeline/pipeline_steps/stage02_import_data.py
      hash: md5
      md5: 067aba3363ef259016314789330e0b86
      size: 421
      isexec: true
    outs:
    - path: data/raw
      hash: md5
      md5: 66a0847dec91d998ab30fa7b0de39067.dir
      size: 875588784
      nfiles: 7
  stage03_make_dataset:
    cmd: python src/pipeline/pipeline_steps/stage03_make_dataset.py
    deps:
    - path: data/raw
      hash: md5
      md5: 66a0847dec91d998ab30fa7b0de39067.dir
      size: 875588784
      nfiles: 7
    - path: src/pipeline/make_dataset_pipeline.py
      hash: md5
      md5: 596794173bcb43b4864fc171c88f5deb
      size: 1349
      isexec: true
    - path: src/pipeline/pipeline_steps/stage03_make_dataset.py
      hash: md5
      md5: 77e2bd40059a0afa8e2ce430923fb6d6
      size: 929
      isexec: true
    outs:
    - path: data/processed/movies.csv
      hash: md5
      md5: e4d7033e4d6b70c9d49c7ad4e659cca1
      size: 1370263
    - path: data/processed/ratings.csv
      hash: md5
      md5: e63b65d207305376229df5996da7d72d
      size: 513444147
  stage04_train_model:
    cmd: python src/pipeline/pipeline_steps/stage04_train_model.py
    deps:
    - path: data/processed/movies.csv
      hash: md5
      md5: e4d7033e4d6b70c9d49c7ad4e659cca1
      size: 1370263
    - path: data/processed/ratings.csv
      hash: md5
      md5: e63b65d207305376229df5996da7d72d
      size: 513444147
    - path: src/pipeline/config.yaml
      hash: md5
      md5: 711a296ffa201c6c701e523fdfd52175
      size: 1022
    - path: src/pipeline/pipeline_steps/stage04_train_model.py
      hash: md5
      md5: af64e80bc3e65d88d2d50348f4873894
      size: 565
      isexec: true
    - path: src/pipeline/train_model_pipeline.py
      hash: md5
      md5: 684020af9959f354a0279d0aa4a845ad
      size: 5841
      isexec: true
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 0d3ab79a195acd385fdce851675e9edd
      size: 285
    - path: models/best_svd_model.pkl
      hash: md5
      md5: e3689f17845900c4a9d093bd592bcd89
      size: 39050227
  stage05_predict_model:
    cmd: python src/pipeline/pipeline_steps/stage05_predict_model.py
    deps:
    - path: data/processed/movies.csv
      hash: md5
      md5: e4d7033e4d6b70c9d49c7ad4e659cca1
      size: 1370263
    - path: data/processed/ratings.csv
      hash: md5
      md5: e63b65d207305376229df5996da7d72d
      size: 513444147
    - path: models/best_svd_model.pkl
      hash: md5
      md5: e3689f17845900c4a9d093bd592bcd89
      size: 39050227
    - path: src/pipeline/config.yaml
      hash: md5
      md5: 711a296ffa201c6c701e523fdfd52175
      size: 1022
    - path: src/pipeline/pipeline_steps/stage05_predict_model.py
      hash: md5
      md5: 5f607c6e3163c8765236f1653c725732
      size: 608
      isexec: true
    - path: src/pipeline/predict_model_pipeline.py
      hash: md5
      md5: c0ab8a0898b1bf1a1ecf77876bf7dc67
      size: 4324
      isexec: true
    outs:
    - path: predictions/top_5_user_1.csv
      hash: md5
      md5: 72f5396d24e67b31e47fe11b28ef301b
      size: 381
